@model WoodWorking.Models.OrderViewModel

@{
    ViewData["Title"] = "Нова поръчка";
}
@*MaterialPrice, EdgePrice, TotalPrice*@

<h2 class="text-center">Нова поръчка</h2>

<hr />
<div class="container">    
    <form asp-action="New" method="post">
        <div class="form-group form-check">
            <label class="form-check-label">
                <input class="form-check-input" asp-for="IsExpress" /> @Html.DisplayNameFor(model => model.IsExpress)
            </label>
        </div>
        <div class="form-group">
            <label asp-for="ClientName" class="control-label"></label>
            <input asp-for="ClientName" class="form-control" />
            <span asp-validation-for="ClientName" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="ClientPhone" class="control-label"></label>
            <input asp-for="ClientPhone" class="form-control" />
            <span asp-validation-for="ClientPhone" class="text-danger"></span>
        </div>
        <br />

        <table class="table table-condensed table-hover border">
            <thead>
                <tr>
                    <th rowspan="2">Материали</th>
                    <th rowspan="2">Цена за м2, лв.</th>
                    <th rowspan="2">Дължина, m</th>
                    <th rowspan="2">Широчина, m</th>
                    <th rowspan="2">Бр</th>
                    <th rowspan="2">Квадратура</th>
                    <th rowspan="2">Цена на материала, лв </th>
                    <th colspan="4">Кантиране</th>
                    <th rowspan="2">Цена на кантирането, лв</th>
                </tr>
                <tr>
                    <th>H</th>
                    <th>H</th>
                    <th>L</th>
                    <th>L</th>
                </tr>
            </thead>
            <tbody> 
                @for (int i = 0; i < 12; i++)
                {
                    <tr>
                        <td>
                            <div class="form-group">
                                <select asp-for="OrderedMaterials[i].MaterialName" class="form-control">
                                    <option></option>
                                    @foreach (var material in Model.Materials)
                                    {
                                        <option value="@material.Id">@material.Name</option>
                                    }
                                </select>
                            </div>
                        </td>
                        <td>
                            <div class="form-group">
                                <input asp-for="OrderedMaterials[i].MaterialPrice" class="form-control" />
                            </div>
                        </td>
                        <td>
                            <div class="form-group">
                                <input asp-for="OrderedMaterials[i].MaterialLength" class="form-control" />
                            </div>
                        </td>
                        <td>
                            <div class="form-group">
                                <input asp-for="OrderedMaterials[i].MaterialHeight" class="form-control" />
                            </div>
                        </td>
                        <td>
                            <div class="form-group">
                                <input asp-for="OrderedMaterials[i].MaterialQty" class="form-control" />
                            </div>
                        </td>
                        <td>
                            <div class="form-group">
                                <input asp-for="OrderedMaterials[i].MaterialQuadrature" class="form-control" />
                            </div>
                        </td>
                        <td>
                            <div class="form-group">
                                <input asp-for="OrderedMaterials[i].MaterialTotalPrice" class="form-control" />
                            </div>
                        </td>
                        <td>
                            <div class="form-group">
                                <input asp-for="OrderedMaterials[i].MaterialEdgeH1" class="form-control" />
                            </div>
                        </td>
                        <td>
                            <div class="form-group">
                                <input asp-for="OrderedMaterials[i].MaterialEdgeH2" class="form-control" />
                            </div>
                        </td>
                        <td>
                            <div class="form-group">
                                <input asp-for="OrderedMaterials[i].MaterialEdgeL1" class="form-control" />
                            </div>
                        </td>
                        <td>
                            <div class="form-group">
                                <input asp-for="OrderedMaterials[i].MaterialEdgeL2" class="form-control" />
                            </div>
                        </td>
                        <td>
                            <div class="form-group">
                                <input asp-for="OrderedMaterials[i].MaterialEdgeTotalPrice" class="form-control" />
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>

        <div class="mb-3">
            <input class="btn btn-success mb-2 w-100 p-3 fw-bolw" type="submit" value="Създаване на заявка" />
        </div>
    </form>
</div>